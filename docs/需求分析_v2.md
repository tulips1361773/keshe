# 乒乓球培训管理系统需求规格说明书

## 一、引言

### 1.1 项目背景

随着乒乓球运动的普及，乒乓球培训机构数量不断增加，规模和管理需求也日益多样化。蓝星软件公司计划开发一款乒乓球培训管理系统，旨在满足不同规模乒乓球培训机构的管理需求，提高培训管理的效率和质量。

### 1.2 文档目的

本需求规格说明书旨在详细描述乒乓球培训管理系统的功能、性能、用户界面、数据等方面的需求，为系统的开发、测试和验收提供依据。

### 1.3 文档范围

本文档涵盖了乒乓球培训管理系统的所有功能需求、非功能需求以及相关的约束和假设。

## 二、总体概述

### 2.1 产品概述

乒乓球培训管理系统是一个综合性的管理平台，为乒乓球培训机构、学员和教练员提供一站式服务。系统具备学员管理、教练管理、课程管理、赛事管理、财务管理等功能，支持不同规模培训机构的分区管理。

### 2.2 产品功能概述

- **学员管理**：包括学员注册、信息维护、教练员查询与选择、课程预约、费用支付与退费、课表查询、更换教练员、训练评价等功能。
- **教练管理**：包括教练注册、信息维护、学员申请审核、课程预约确认与拒绝、训练评价等功能。
- **校区管理**：包括校区信息录入、学员信息管理、教练信息管理、课程预约信息管理、系统日志查询等功能。
- **赛事管理**：包括月赛报名、赛程安排、比赛信息查询等功能。
- **财务管理**：包括学员账户充值、课时费扣除、退费处理、月赛报名费收取等功能。

### 2.3 用户特征

- **超级管理员**：负责整个乒校的系统管理，包括校区信息录入、分校区负责人指定等。
- **校区管理员**：负责本校区的学员、教练、课程预约等信息的管理。
- **学员**：通过系统进行注册、选课、预约课程、缴费等操作。
- **教练员**：通过系统进行注册、接受学员申请、确认课程预约等操作。

## 三、具体需求

### 3.1 功能需求

#### 3.1.1 系统管理

- **校区管理**
  - 超级管理员可以录入每个校区的基本信息，包括名字、地址、联系方式（联系人、电话、邮箱）等，并指定分校区的负责人。
  - 超级管理员缺省成为中心校区的校区管理员。
  - 任何普通校区管理员应用系统完成的对各自校区的管理工作，超级管理员均有权限操作。
- **用户管理**
  - 学员注册时需提供用户名、密码、真实姓名、性别、年龄、校区、电话和邮箱，其中用户名、密码、校区、姓名和电话是必须填写的信息，其他信息可空白。校区可以从系统提供的下拉列表中选择。密码设置要求 8 - 16 位，必须包含字母、数字和特殊字符。学员的注册无需后台审核。
  - 教练员注册时需提供用户名、密码、真实姓名、性别、年龄、校区、电话、邮箱、教练员照片及其以往比赛中取得的成绩描述，并且需要校区管理员审核通过，方可注册成功。教练员分为高级、中级和初级三种，不同的级别在注册时由校区管理员审核指定。
  - 学员和教练员均可对其基本信息进行维护，例如更换照片、修改密码等。

#### 3.1.2 学员功能

- **教练员查询**
  - 学员可以通过按照姓名查询和浏览所有教练员两种方式查询教练员。
  - 按照姓名查询时，学员需输入查询条件，包括教练员姓名，性别，年龄三个查询条件（查询条件至少填写一项），如果系统中有匹配的教练员，则显示该教练员的基本信息，包括教练的照片和获奖信息等。如果没有与查询条件相匹配的教练员，则提示没有找到相关教练员。如果有多名教练员满足查询条件，则应列出所有满足条件的教练员列表，学员点击后显示该教练员信息。
  - 浏览所有教练员时，系统列出该校区全部教练员列表，在用户点击某教练员链接时显示该教练员信息。
- **教练员选择**
  - 学员在查询教练员的基础上，可以选择该教练员成为其主管教练员，通过点击“选中教练”按钮，完成教练员的选择申请。
  - 教练员会在学员提交申请后收到系统消息，可以审核通过或不通过，如果教练员审核通过，则建立了双选关系，如果教练员审核不通过，则双选关系未建立，但系统会记录该项双选未成功的记录供后续查询。一名学员最多选择两位教练员，一名教练员可以指导最多 20 名学员。
- **课程预约**
  - 在双选关系确立后，学生可以预约课程。学生选择某个已建立双选关系的教练员，系统显示该教练员的课表，课表中列出该教练员未来一周的所有已预约的课程，包括哪一天的哪个时间段及球台编号，学生可以在课表中空白的时间段进行预约，此时系统会显示在该时间段未被占用的球台供学生选择，学生也可以选择由系统自动分配球台。
  - 教练员登录系统后，会看到预约消息，教练员可以确认预约，也可以拒绝预约。
  - 在预约成功后（教练员也确认了预约，并且支付成功），学员和教练员均可在预约上课时间之前的 24 小时及以上取消预约，预约取消需对方确认后，方能生效，此时系统会发起退费，将支付的本次课时费退回学员账户。无论是学员还是教练员，一个月内取消预约不可以超过三次，每次在提交取消申请时，系统均提示本月剩余的取消次数。在同一个月内第四次试图取消预约时，无法提交取消申请（提交按钮不可用）。
- **费用管理**
  - 学员可以通过系统的收费功能在账户中预存一定金额的训练费，系统提供线上支付方式，以及线下支付方式，若采用线上支付，系统进行简单的模拟即可，输入金额即可充值；若采用线下支付，需由校区管理员将训练费手工录入系统。
  - 每次学员预约课程，并得到教练员的确认后，系统根据教练员的每小时收费金额及训练时段的时长，计算此次预约的课时费，从学员的账户中扣除。如果账户中金额不足以支付课时费，系统将拒绝此次课程预约。
  - 如果学员或教练员对符合 24 小时规定的预订发起了取消预订，系统在双方确认的时刻，自动将相应的课时费退费至用户账户。
- **课表查询**
  - 学员可以随时查询课表，系统也会在上课前一小时通过系统消息提醒学员。
- **更换教练员**
  - 学员可以选择更换教练员，系统自动显示学员当前的教练员，并显示本校区教练员列表，由学员指定希望换成的教练员，系统会通过系统消息通知当前教练员、未来教练员及校区管理员，三者均同意后，才能对系统中存储的相关信息进行更新。
- **训练评价**
  - 每次训练课后，系统根据课程结束的时间，向学员发起一次评价请求，学员录入此次训练课的收获和教训。

#### 3.1.3 教练功能

- **注册审核**：教练员注册需要校区管理员审核通过，方可注册成功。校区管理员在审核时指定教练员的级别（高级、中级、初级）。
- **学员申请审核**：教练员收到学员的选择申请后，可以审核通过或不通过。
- **课程预约处理**：教练员登录系统后，查看学员的课程预约消息，可确认或拒绝预约。
- **信息维护**：教练员可对其基本信息进行维护，如更换照片、修改密码等。
- **训练评价**：每次训练课后，系统向教练员发起评价请求，教练员录入学生的表现和进一步提高的建议。

超级管理员可以管理所有校区的信息，同时超级管理员可以创建校区，并且创建校区的时候可以指定该校区的负责人（用户名和密码）。
#### 3.1.4 校区管理员功能

- **校区信息管理**：录入和管理校区的基本信息，包括校区名称、地址、联系方式等。
- **学员信息管理**：对本校区的学员信息进行添加、修改、删除和查询操作。操作时需以消息方式提醒相关人员。
- **教练信息管理**：对本校区的教练信息进行管理，包括添加、修改、删除和查询。修改时需输入教练员的身份证号码或手机号，系统验证数据格式和内容，验证成功后回到初始操作界面。操作需以消息方式提醒相关人员。
- **课程预约信息管理**：对本校区的课程预约信息进行管理，操作需以消息方式提醒相关人员。
- **系统日志查询**：随时查询系统中记录的所有用户的重要操作记录。

#### 3.1.5 赛事管理功能

- **月赛报名**：学员可通过系统报名参加每月第四个星期天的月赛，报名时需支付 30 元报名费，报名费从学员账户余额中扣除，余额不足时提醒学员充值。
- **赛程安排**：系统根据每组参赛学员人数进行赛程安排。若每组参赛学员不多于 6 人，采用组内全循环方式排场次，并随机分配球台；若多于 6 人，先将参赛学员分为更小的小组，在小组内采用全循环排场次，取小组前两名交叉淘汰。
- **比赛信息查询**：参赛球员可在系统中查看自己的比赛顺序及球台编号。

### 3.2 非功能需求

#### 3.2.1 性能需求

- 系统应能在高并发情况下稳定运行，确保在大量用户同时进行注册、预约、查询等操作时，响应时间不超过 3 秒。
- 系统的数据处理和存储能力应能满足大规模培训机构的需求，支持至少 10000 名学员和 1000 名教练员的信息管理。

#### 3.2.2 安全需求

- 用户的密码应采用加密存储，防止密码泄露。
- 系统应具备完善的权限管理机制，不同用户角色只能访问和操作其权限范围内的功能和数据。
- 系统应定期进行数据备份，防止数据丢失。

#### 3.2.3 易用性需求

- 系统的界面设计应简洁、美观、易用，符合用户的操作习惯。
- 系统应提供详细的帮助文档和操作指南，方便用户使用。

#### 3.2.4 可扩展性需求

- 系统应具备良好的可扩展性，方便后续添加新的功能模块和业务流程。

#### 3.2.5 兼容性需求

- 系统应支持主流的浏览器，如 Chrome、Firefox、IE 等。
- 系统应能在 Windows、Linux 等主流操作系统上稳定运行。

## 四、外部接口

### 4.1 支付接口

与微信支付和支付宝支付平台对接，实现学员的线上充值功能。

### 4.2 消息通知接口

与短信平台或系统内部消息系统对接，实现上课提醒、操作通知等消息的发送。

## 五、数据需求

### 5.1 数据实体

- **学员**：包含用户名、密码、真实姓名、性别、年龄、校区、电话、邮箱、照片、账户余额等信息。
- **教练员**：包含用户名、密码、真实姓名、性别、年龄、校区、电话、邮箱、照片、级别、获奖信息等。
- **校区**：包含校区名称、地址、联系人、电话、邮箱等信息。
- **课程预约**：包含学员 ID、教练员 ID、预约时间、球台编号、课时费等信息。
- **赛事**：包含赛事名称、时间、参赛学员、赛程安排等信息。
- **系统日志**：记录用户的重要操作，包括操作时间、用户 ID、操作内容等。

### 5.2 数据关系

- 学员与校区之间是多对一的关系，一个学员只能属于一个校区。
- 学员与教练员之间是多对多的关系，一个学员最多选择两位教练员，一个教练员可以指导最多 20 名学员。
- 学员与课程预约之间是一对多的关系，一个学员可以有多个课程预约。
- 教练员与课程预约之间是一对多的关系，一个教练员可以有多个课程预约。
- 学员与赛事之间是多对多的关系，一个学员可以参加多个赛事，一个赛事可以有多个学员参加。

## 六、约束与假设

### 6.1 约束

- 系统开发需遵循相关的法律法规和行业标准。
- 系统的开发和维护成本应控制在预算范围内。
- 系统需要在规定的时间内完成开发和上线。

## 七、验收标准

### 7.1 功能验收

- 系统的各项功能应按照需求规格说明书的要求正常实现，无明显的功能缺陷。
- 系统的操作流程应符合用户的使用习惯，操作方便快捷。
