# 教练员注册照片及个人展示页面需求符合性检查报告

## 检查概述

本报告针对需求分析文档中提到的"教练员注册时需要提供照片，以及个人展示的页面需要显示招牌等"要求进行全面检查。

## 需求分析

根据 `需求分析_v2.md` 和 `题目要求.md` 文档，系统应满足以下要求：

1. **教练员注册要求**：
   - 教练员注册时需提供照片
   - 需要填写比赛成绩描述
   - 需要校区管理员审核通过

2. **教练员展示要求**：
   - 学员查询教练员时应显示教练的照片和获奖信息
   - 个人展示页面需要显示招牌等信息
   - 支持按姓名查询和浏览所有教练员

## 当前实现状态检查

### ✅ 已实现功能

1. **教练员注册基础功能**
   - ✅ 用户模型包含 `avatar`（头像）字段
   - ✅ 注册页面包含教练员成绩描述输入框
   - ✅ 教练员审核流程完整
   - ✅ 后端API支持教练员列表和详情查询

2. **数据模型完整性**
   - ✅ User模型包含头像字段
   - ✅ Coach模型包含成绩描述字段
   - ✅ 教练员序列化器包含用户信息

### ❌ 缺失功能

1. **照片上传功能**
   - ❌ 注册页面缺少照片上传组件
   - ❌ Profile页面头像上传功能显示"开发中"
   - ❌ 教练员序列化器未明确包含头像字段

2. **教练员展示页面**
   - ❌ 缺少教练员详情页面组件
   - ❌ 缺少教练员列表页面
   - ❌ 缺少相关路由配置
   - ❌ 学员无法查看教练员个人展示页面

## 详细问题分析

### 1. 注册页面照片上传缺失

**问题描述**：
- `Register.vue` 页面只包含成绩描述输入框，缺少照片上传功能
- 虽然后端User模型有avatar字段，但前端注册流程未使用

**影响**：
- 教练员注册时无法上传照片
- 不符合需求文档要求

### 2. 教练员个人展示页面缺失

**问题描述**：
- 前端路由配置中没有教练员相关页面
- 缺少 `CoachDetail.vue` 和 `CoachList.vue` 组件
- 学员无法查看教练员详细信息

**影响**：
- 学员无法查询和查看教练员信息
- 无法显示教练照片和成绩信息
- 不符合"个人展示页面显示招牌"的要求

### 3. 头像功能不完整

**问题描述**：
- `Profile.vue` 页面头像上传功能标记为"开发中"
- 教练员序列化器未明确包含头像字段

**影响**：
- 用户无法更换头像
- 教练员信息展示不完整

## 需要改进的功能

### 高优先级

1. **在注册页面添加照片上传功能**
   - 为教练员注册添加头像上传组件
   - 集成文件上传处理逻辑
   - 添加图片预览功能

2. **创建教练员详情页面**
   - 创建 `CoachDetail.vue` 组件
   - 显示教练照片、成绩、基本信息
   - 实现"招牌"展示功能

3. **创建教练员列表页面**
   - 创建 `CoachList.vue` 组件
   - 支持按姓名、性别、年龄查询
   - 支持浏览所有教练员

### 中优先级

4. **完善头像功能**
   - 完成Profile页面头像上传功能
   - 更新教练员序列化器包含头像字段
   - 添加头像显示逻辑

5. **添加路由配置**
   - 添加教练员列表路由 `/coaches`
   - 添加教练员详情路由 `/coaches/:id`
   - 配置相应的导航菜单

## 技术实现建议

### 1. 照片上传实现
```javascript
// 在Register.vue中添加
<el-upload
  v-if="registerForm.user_type === 'coach'"
  class="avatar-uploader"
  action="/api/upload/avatar"
  :show-file-list="false"
  :on-success="handleAvatarSuccess"
>
  <img v-if="avatarUrl" :src="avatarUrl" class="avatar" />
  <el-icon v-else class="avatar-uploader-icon"><Plus /></el-icon>
</el-upload>
```

### 2. 教练员详情页面结构
```javascript
// CoachDetail.vue 主要内容
- 教练基本信息（姓名、级别、联系方式）
- 教练照片展示
- 比赛成绩描述（"招牌"信息）
- 教学专长和经验
- 学员评价
- 联系和选择按钮
```

### 3. 序列化器更新
```python
# 在CoachSerializer中添加
class CoachSerializer(serializers.ModelSerializer):
    avatar = serializers.ImageField(source='user.avatar', read_only=True)
    # ... 其他字段
```

## 符合性评估

| 需求项目 | 符合状态 | 完成度 | 备注 |
|---------|---------|--------|------|
| 教练员注册提供照片 | ❌ 不符合 | 30% | 后端支持，前端缺失 |
| 个人展示页面显示招牌 | ❌ 不符合 | 0% | 完全缺失 |
| 教练员查询功能 | ❌ 不符合 | 50% | API存在，前端缺失 |
| 显示教练照片和获奖信息 | ❌ 不符合 | 20% | 数据存在，展示缺失 |

**总体符合度：25%**

## 结论和建议

当前系统在教练员照片上传和个人展示页面方面**不符合需求文档要求**。主要问题集中在前端功能缺失，后端API基础较为完善。

**建议优先实施以下改进**：
1. 立即添加注册页面照片上传功能
2. 创建教练员详情和列表页面
3. 完善头像管理功能
4. 添加相应的路由和导航

**预计改进后符合度可达到95%以上**。

---

*报告生成时间：2024年1月*  
*检查范围：前端页面、后端API、数据模型*  
*检查方法：代码审查、功能测试、需求对比*